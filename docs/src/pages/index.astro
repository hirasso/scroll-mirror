---
import Layout from "../layouts/Layout.astro";
import VerticalExample from "../components/examples/Vertical.astro";
import HorizontalExample from "../components/examples/Horizontal.astro";
import BothDirectionsExample from "../components/examples/BothDirections.astro";
import { ArrowRightIcon } from "astro-feather";
---

<Layout isFrontPage={true}>
  <p class="is-h2" slot="after-header">Sync the scroll position of multiple elements on your page</p>
  <section id="vertical">
    <header class="section_header">
      <h2 class="is-h2"><a href="#vertical">Vertical</a></h2>
    </header>
    <VerticalExample />
  </section>

  <section id="horizontal">
    <header class="section_header">
      <h2 class="is-h2"><a href="#horizontal">Horizontal</a></h2>
    </header>
    <HorizontalExample />
  </section>

  <section id="both-directions">
    <header class="section_header">
      <h2 class="is-h2"><a href="#both-directions">Both Directions</a></h2>
    </header>
    <BothDirectionsExample />
  </section>

  <section id="footer">
    <header class="section_header">
      <h2 class="is-h2">Experimental: Between the root and HTML elements</h2>
      <a href="/root" class="button"><span>View Demo</span> <ArrowRightIcon /></a>
    </header>
  </section>
</Layout>

<style>
  #footer {
    margin-block: 5%;
  }
</style>

<script>
  import ScrollMirror from "../../../src/index.js";
import Horizontal from "../components/examples/Horizontal.astro";

  import { $$ } from "../js/helpers";

  declare global {
    interface Window {
      mirrors: {
        vertical: ScrollMirror,
        horizontal: ScrollMirror,
        both: ScrollMirror
      };
    }
  }

  /** Setup mirrors */
  window.mirrors = {
    vertical: new ScrollMirror($$(".scroller.--vertical")),
    horizontal: new ScrollMirror($$(".scroller.--horizontal")),
    both: new ScrollMirror($$(".scroller.--both"))
  }

</script>
